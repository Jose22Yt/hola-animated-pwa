<!DOCTYPE html>
<!--
  Hola Animated PWA

  This document defines a simple yet modern progressive web application.
  It greets the user with a big "¡Hola!" and leverages CSS animations and
  gradients to create an engaging, app‑like experience on mobile and desktop.
  The page links to a manifest for installation on Android and registers
  a service worker via script.js. When installed, the app launches in
  standalone mode without browser chrome.
-->
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <!--
      Prevent pinch‑zoom to give the app a native feel on mobile.  The
      `user‑scalable=no` and `maximum-scale=1.0` settings disable
      browser zooming so the layout always fits within the screen
      boundaries.  `viewport-fit=cover` allows the PWA to extend into
      the device's safe areas on iOS.
    -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
    <meta name="theme-color" content="#6200ea" />
    <title>Hola PWA</title>
    <!-- Manifest for PWA configuration -->
    <link rel="manifest" href="manifest.json" />
    <!-- Icons for various devices -->
    <link rel="icon" sizes="192x192" href="icons/icon-192.png" />
    <link rel="apple-touch-icon" href="icons/icon-512.png" />
    <!-- Stylesheet containing animations and layout -->
    <link rel="stylesheet" href="styles.css" />
    <!-- Script registers the service worker and handles installation prompt -->
    <script defer src="script.js"></script>
  </head>
  <body>
    <!--
      The main application wrapper now contains multiple sections.  Each
      section corresponds to a tab in the bottom navigation bar.  Only
      one section is visible at a time, controlled via the `active` class.
    -->
    <div id="app" class="app">
      <!-- Home section with animated greeting and install button -->
      <section id="home" class="section active">
        <div class="hero">
          <h1 id="title" class="animated-hola">¡Hola!</h1>
          <p id="subtitle">Bienvenido a esta web app avanzada.</p>
        </div>
        <button id="installBtn" class="install-btn">Instalar aplicación</button>
      </section>

      <!-- Music section with search, results and player -->
      <section id="music" class="section">
        <h2>Música</h2>
        <!-- Search bar for finding tracks -->
        <div class="music-search">
          <input type="text" id="music-query" placeholder="Buscar canción o artista…" />
          <button id="music-search-btn">Buscar</button>
        </div>
        <!-- Optional filters for selecting data source -->
        <div class="music-filters">
          <label><input type="radio" name="music-source" value="all" checked /> Todos</label>
          <label><input type="radio" name="music-source" value="audius" /> Audius</label>
          <label><input type="radio" name="music-source" value="youtube" /> YouTube</label>
        </div>
        <!-- Container for displaying search results -->
        <div id="music-results" class="music-results"></div>
        <!-- Mini and full players are defined outside of the results list.  The mini
             player appears just above the bottom navigation bar once a song is
             selected, and the full player overlays the entire screen when
             expanded. -->

        <!-- Mini player (hidden by default) -->
        <div id="miniPlayer" class="mini-player hidden">
          <div class="mini-progress">
            <div id="miniProgressBar" class="mini-progress-bar"></div>
          </div>
          <div class="mini-row">
            <button id="miniExpand" class="mini-icon" aria-label="Expandir">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25L12 15.75L4.5 8.25" />
              </svg>
            </button>
            <div class="mini-meta">
              <div id="miniTitle" class="mini-title">Título</div>
              <div id="miniArtist" class="mini-artist">Artista</div>
            </div>
            <button id="miniClose" class="mini-icon" aria-label="Cerrar">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6L18 18" />
              </svg>
            </button>
          </div>
          <div class="mini-controls">
            <button id="btnShuffle" class="ctrl small" aria-label="Aleatorio">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21L3 16.5M3 16.5L7.5 12M3 16.5H16.5M16.5 3L21 7.5M21 7.5L16.5 12M21 7.5L7.5 7.5" />
              </svg>
            </button>
            <button id="btnPrev" class="ctrl" aria-label="Anterior">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 16.8115C21 17.6753 20.0668 18.2169 19.3169 17.7883L12.2094 13.7269C11.4536 13.295 11.4536 12.2052 12.2094 11.7733L19.3169 7.7119C20.0668 7.28334 21 7.82487 21 8.68867V16.8115Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 16.8115C11.25 17.6753 10.3168 18.2169 9.56685 17.7883L2.45936 13.7269C1.70357 13.295 1.70357 12.2052 2.45936 11.7733L9.56685 7.7119C10.3168 7.28334 11.25 7.82487 11.25 8.68867V16.8115Z" />
              </svg>
            </button>
            <button id="btnPlay" class="ctrl play" aria-label="Reproducir/Pausar">
              <svg id="playIcon" class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.65273C5.25 4.79705 6.1674 4.25462 6.91716 4.66698L18.4577 11.0143C19.2349 11.4417 19.2349 12.5584 18.4577 12.9858L6.91716 19.3331C6.1674 19.7455 5.25 19.203 5.25 18.8347V5.65273Z" />
              </svg>
              <svg id="pauseIcon" class="icon hidden" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25V18.75M8.25 5.25V18.75" />
              </svg>
            </button>
            <button id="btnNext" class="ctrl" aria-label="Siguiente">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 8.68867C3 7.82487 3.93317 7.28334 4.68316 7.7119L11.7906 11.7733C12.5464 12.2052 12.5464 13.295 11.7906 13.7269L4.68316 17.7883C3.93317 18.2169 3 17.6753 3 16.8115V8.68867Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 8.68867C12.75 7.82487 13.6832 7.28334 14.4332 7.7119L21.5406 11.7733C22.2964 12.2052 22.2964 13.295 21.5406 13.7269L14.4332 17.7883C13.6832 18.2169 12.75 17.6753 12.75 16.8115V8.68867Z" />
              </svg>
            </button>
            <button id="btnRepeat" class="ctrl small" aria-label="Repetir">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.0228 9.34841H21.0154M2.98413 19.6444V14.6517M2.98413 14.6517H7.97677M2.98413 14.6517L6.16502 17.8347C7.15555 18.8271 8.41261 19.58 9.86436 19.969C14.2654 21.1483 18.7892 18.5364 19.9685 14.1353M4.03073 9.86484C5.21 5.46374 9.73377 2.85194 14.1349 4.03121C15.5866 4.4202 16.8437 5.17312 17.8342 6.1655L21.0154 9.34663M21.0154 4.3558V9.34663" />
              </svg>
            </button>
          </div>
        </div>

        <!-- Full player (hidden by default) -->
        <div id="fullPlayer" class="full-player hidden">
          <div class="full-top">
            <button id="fullMinimize" class="full-icon" aria-label="Minimizar">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25L12 15.75L4.5 8.25" />
              </svg>
            </button>
            <div class="full-titlebar">REPRODUCIENDO</div>
            <button id="fullClose" class="full-icon" aria-label="Cerrar">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6L18 18" />
              </svg>
            </button>
          </div>
          <div class="full-art">
            <img id="fullCover" alt="Portada" />
          </div>
          <div class="full-info">
            <div id="fullTrack" class="full-track">Título</div>
            <div id="fullArtist" class="full-by">Artista</div>
          </div>
          <div class="full-progress">
            <div class="bar">
              <div id="fullProgressBar" class="bar-fill"></div>
            </div>
            <div class="times">
              <span id="fullCurrent">0:00</span>
              <span id="fullTotal">0:00</span>
            </div>
          </div>
          <div class="full-controls">
            <button id="fShuffle" class="ctrl small" aria-label="Aleatorio">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 21L3 16.5M3 16.5L7.5 12M3 16.5H16.5M16.5 3L21 7.5M21 7.5L16.5 12M21 7.5L7.5 7.5" />
              </svg>
            </button>
            <button id="fPrev" class="ctrl" aria-label="Anterior">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M21 16.8115C21 17.6753 20.0668 18.2169 19.3169 17.7883L12.2094 13.7269C11.4536 13.295 11.4536 12.2052 12.2094 11.7733L19.3169 7.7119C20.0668 7.28334 21 7.82487 21 8.68867V16.8115Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M11.25 16.8115C11.25 17.6753 10.3168 18.2169 9.56685 17.7883L2.45936 13.7269C1.70357 13.295 1.70357 12.2052 2.45936 11.7733L9.56685 7.7119C10.3168 7.28334 11.25 7.82487 11.25 8.68867V16.8115Z" />
              </svg>
            </button>
            <button id="fPlay" class="ctrl play" aria-label="Reproducir/Pausar">
              <svg id="fPlayIcon" class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5.25 5.65273C5.25 4.79705 6.1674 4.25462 6.91716 4.66698L18.4577 11.0143C19.2349 11.4417 19.2349 12.5584 18.4577 12.9858L6.91716 19.3331C6.1674 19.7455 5.25 19.203 5.25 18.8347V5.65273Z" />
              </svg>
              <svg id="fPauseIcon" class="icon hidden" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 5.25V18.75M8.25 5.25V18.75" />
              </svg>
            </button>
            <button id="fNext" class="ctrl" aria-label="Siguiente">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M3 8.68867C3 7.82487 3.93317 7.28334 4.68316 7.7119L11.7906 11.7733C12.5464 12.2052 12.5464 13.295 11.7906 13.7269L4.68316 17.7883C3.93317 18.2169 3 17.6753 3 16.8115V8.68867Z" />
                <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 8.68867C12.75 7.82487 13.6832 7.28334 14.4332 7.7119L21.5406 11.7733C22.2964 12.2052 22.2964 13.295 21.5406 13.7269L14.4332 17.7883C13.6832 18.2169 12.75 17.6753 12.75 16.8115V8.68867Z" />
              </svg>
            </button>
            <button id="fRepeat" class="ctrl small" aria-label="Repetir">
              <svg class="icon" viewBox="0 0 24 24" fill="none" stroke-width="1.5" stroke="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" d="M16.0228 9.34841H21.0154M2.98413 19.6444V14.6517M2.98413 14.6517H7.97677M2.98413 14.6517L6.16502 17.8347C7.15555 18.8271 8.41261 19.58 9.86436 19.969C14.2654 21.1483 18.7892 18.5364 19.9685 14.1353M4.03073 9.86484C5.21 5.46374 9.73377 2.85194 14.1349 4.03121C15.5866 4.4202 16.8437 5.17312 17.8342 6.1655L21.0154 9.34663M21.0154 4.3558V9.34663" />
              </svg>
            </button>
          </div>
        </div>
      </section>

      <!-- Theme section with selectable light, dark and glass modes -->
      <section id="theme" class="section">
        <h2>Temas</h2>
        <p>Selecciona un tema para la aplicación.</p>
        <div class="theme-options">
          <button id="theme-light" class="theme-btn">Tema Claro</button>
          <button id="theme-dark" class="theme-btn">Tema Oscuro</button>
          <button id="theme-glass" class="theme-btn">Tema Cristal</button>
        </div>
      </section>

      <!-- Settings section with configurable options -->
      <section id="settings" class="section">
        <h2>Ajustes</h2>
        <div class="settings-group">
          <h3>Animaciones</h3>
          <label>
            <input type="checkbox" id="animations-toggle" checked /> Activar animaciones
          </label>
        </div>
        <div class="settings-group">
          <h3>Sonidos</h3>
          <label>
            <input type="checkbox" id="sounds-toggle" checked /> Activar sonidos
          </label>
        </div>
        <div class="settings-group">
          <h3>Escala (DPI)</h3>
          <input type="range" id="dpi-range" min="0.8" max="1.2" step="0.05" value="1" />
        </div>
        <div class="settings-group">
          <h3>Fuente</h3>
          <select id="font-select">
            <option value="default">Predeterminada</option>
            <option value="serif">Serif</option>
            <option value="cursive">Cursiva</option>
            <option value="mono">Monospace</option>
            <option value="fantasy">Fantasía</option>
            <option value="elegant">Elegante</option>
          </select>
        </div>

        <!-- Animation speed control -->
        <div class="settings-group">
          <h3>Velocidad de animación</h3>
          <input type="range" id="animation-range" min="0.5" max="2" step="0.1" value="1" />
        </div>
      </section>

      <!-- Profile section placeholder -->
      <section id="profile" class="section">
        <h2>Perfil</h2>
        <p>Información de tu cuenta. Próximamente.</p>
      </section>
    </div>

    <!--
      Bottom navigation bar: provides quick access to the different
      sections of the application.  Each button contains an inline
      SVG icon and a label.  The `data-section` attribute links the
      button to the corresponding section ID.  The currently active
      tab receives the `active` class.
    -->
    <nav class="bottom-nav">
          <button class="nav-item active" data-section="home">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
        </svg>
        <span>Inicio</span>
            <span class="nav-dot"></span>
      </button>
      <button class="nav-item" data-section="music">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="m9 9 10.5-3m0 6.553v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 1 1-.99-3.467l2.31-.66a2.25 2.25 0 0 0 1.632-2.163Zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 0 1-1.632 2.163l-1.32.377a1.803 1.803 0 0 1-.99-3.467l2.31-.66A2.25 2.25 0 0 0 9 15.553Z" />
        </svg>
        <span>Música</span>
            <span class="nav-dot"></span>
      </button>
      <button class="nav-item" data-section="theme">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
        </svg>
        <span>Temas</span>
            <span class="nav-dot"></span>
      </button>
      <button class="nav-item" data-section="settings">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87.074.04.147.083.22.127.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a7.723 7.723 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a6.47 6.47 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a6.52 6.52 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a6.932 6.932 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124.072-.044.146-.086.22-.128.332-.183.582-.495.644-.869l.214-1.28Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z" />
        </svg>
        <span>Ajustes</span>
            <span class="nav-dot"></span>
      </button>
      <button class="nav-item" data-section="profile">
        <svg class="nav-icon" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
          <path stroke-linecap="round" stroke-linejoin="round" d="M4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z" />
        </svg>
        <span>Perfil</span>
            <span class="nav-dot"></span>
      </button>
    </nav>
  </body>
</html>